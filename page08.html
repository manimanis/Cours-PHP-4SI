<html dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.10.0.custom.min.css">
<link rel="stylesheet" type="text/css" href="css/style.css">
<script type="text/javascript" src="js/jquery-1.9.0.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.10.0.custom.min.js"></script>
</head>

<body class="stickytooltip">
	<div id="contenu">
		<div id="entete">
			<h1>Effectuer une suppression dans la base de données</h1>
			<h6>Cliquer sur une image pour l'agrandir</h6>
			<h2>Sommaire</h2>
			<ol id="sommaire">
			</ol>
		</div>
		
		<div id="navigation-bar">
			<input type="button" id="prev" value="&lt;&lt;">
			<span id="lblPage">Page x sur y</span>
			<input type="button" id="next" value="&gt;&gt;">
		</div>
		
		<div class="cadre">
			<h2>Créer le formulaire de suppression à l'aide de FrontPage</h2>
			<p>Créer une page nommée <b>exercice06.php</b>.</p>
			<p>Ouvrir à l'aide de FrontPage.</p>
			<p>La liste de choix est vide. On va la remplir à l'aide du PHP.</p>
			<p>Utiliser les paramètres suivants :</p>
			<ul>
				<li>Nom du formulaire : <b>f</b></li>
				<li>Méthode : <b>POST</b></li>
				<li>Action : <b>exercice06-a.php</b></li>
			</ul>
			<p>
				<a href="images/image64.jpg" class="hover"><img border="0" src="images/small/image64.jpg"></a>
			</p>
		</div>
		
		<div class="cadre">
			<h2>Remplir la liste de choix</h2>
			<p>Ouvrir le fichier <b>exercice06.php</b> à l'aide de Notepad++.</p>
			<p>Ajouter le code suivant.</p>
			<p>
				<a href="images/image65.jpg" class="hover"><img border="0" src="images/small/image65.jpg"></a>
			</p>
			<p>On se connecte au serveur SGBD. Puis, on sélectionne l'ensemble de tous les plats.</p>
			<p>La balise <b>&lt;option&gt;</b> permet d'ajouter des choix dans la liste de choix. On utilise les
			données provenant de la requête : l'attribut <b>value</b> sera remplit avec l'identifiant de chaque
			enregistrement <b>$ligne['id']</b>, le texte de l'option affiche le nom du plat <b>$ligne['nom plat']</b>
			et son prix <b>$ligne['prix']</b>. 
			</p>
			<p>
				<a href="images/image53.jpg" class="hover"><img border="0" src="images/small/image53.jpg"></a>
			</p>
			<p>Et le résultat final sera comme suit :</p>
			<p>
				<a href="images/image66.jpg" class="hover"><img border="0" src="images/small/image66.jpg"></a>
			</p>
		</div>
		
		<div class="cadre">
			<h2>Créer le fichier qui réalisera la suppression</h2>
			<p>Créer une page nommée <b>exercice06-a.php</b>.</p>
			<p>Ouvrir à l'aide du Notepad++.</p>
			<p>Taper le code suivant :</p>
			<p>
				<a href="images/image67.jpg" class="hover"><img border="0" src="images/small/image67.jpg"></a>
			</p>
		</div>
		
		<div class="cadre">
			<h2>Vérifier que la page PHP est accédée à partir du formulaire</h2>
			<p>L'absence d'une variable <b>$_POST</b> indique que la page n'a pas été accédé à partir du formulaire.</p>
			<p>
				<a href="images/image68.jpg" class="hover"><img border="0" src="images/small/image68.jpg"></a>
			</p>
		</div>
		
		<div class="cadre">
			<h2>Obtenir les données du formulaire</h2>
			<p>La variable <b>id</b> du formulaire nécessite la conversion au type entier. 
			La fonction <b>intval</b> convertit une chaine en entier.</p>
			<p>
				<a href="images/image69.jpg" class="hover"><img border="0" src="images/small/image69.jpg"></a>
			</p>
		</div>
		
		<div class="cadre">
			<h2>Vérifier la validité des données du formulaire</h2>
			<p>La variable <b>$id</b> ne doit pas être nulle.</p>
			<p>
				<a href="images/image70.jpg" class="hover"><img border="0" src="images/small/image70.jpg"></a>
			</p>
		</div>
		
		<div class="cadre">
			<h2>Se connecter au serveur de Base de données</h2>
			<p>Les traitements qui suivent nécessitent une connexion au SGBD.</p>
			<p>
				<a href="images/image71.jpg" class="hover"><img border="0" src="images/small/image71.jpg"></a>
			</p>
		</div>
				
		<div class="cadre">
			<h2>Supprimer l'enregistrement</h2>
			<p>On effectue la suppression. Puis on vérifie le bon déroulement de l'opération.</p>
			<p>
				<a href="images/image72.jpg" class="hover"><img border="0" src="images/small/image72.jpg"></a>
			</p>
		</div>
	</div>
</body>

<script type="text/javascript" src="navigation.js"></script>

</html>
